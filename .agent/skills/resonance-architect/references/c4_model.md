# C4 Model Protocol (Visualization Standard)

> "A common set of abstractions involves creating a static model of your software system at different levels of abstraction."
> — Simon Brown

## 1. The 4 Levels

1.  **Level 1: System Context Context**
    *   **Goal**: The Big Picture.
    *   **Audience**: Everyone (Non-technical).
    *   **Shows**: Users <-> System <-> External Systems (e.g., Stripe, SendGrid).
    *   **No internals**. Just boxes and lines.

2.  **Level 2: Container Diagram**
    *   **Goal**: The High-Level Tech Decisions.
    *   **Audience**: Developers & Architects.
    *   **Shows**: Web App, Mobile App, API Application, Database, File System.
    *   **Annotation**: Tech choices (e.g., [Docker], [Postgres], [React]).

3.  **Level 3: Component Diagram**
    *   **Goal**: The Internals of a Container.
    *   **Audience**: Developers.
    *   **Shows**: Controllers, Services, Repositories within the API Application.
    *   **Note**: Only draw this if the complexity warrants it.

4.  **Level 4: Code (Optional)**
    *   **Goal**: Implementation Details.
    *   **Audience**: Developers.
    *   **Shows**: Classes, Interfaces. (Usually generated by IDE).

## 2. The Notation Rules

1.  **Labels**: Every line MUST have a label describing the interaction.
    *   ❌ `User` ---- `System`
    *   ✅ `User` --[Visits Dashboard]--> `System`
2.  **Direction**: Flow of data or dependency.
3.  **Key**: Always include a legend for colors/shapes.

## 3. Mermaid JS Implementation

Use Mermaid `C4Context`, `C4Container`, `C4Component` diagrams.

```mermaid
C4Context
  title System Context diagram for Internet Banking System
  Person(customer, "Banking Customer", "A customer of the bank.")
  System(banking_system, "Internet Banking System", "Allows customers to view information about their bank accounts, and make payments.")
  System_Ext(mail_system, "E-mail System", "The internal Microsoft Exchange e-mail system.")
  System_Ext(mainframe, "Mainframe Banking System", "Stores all of the core banking information.")

  Rel(customer, banking_system, "Uses")
  Rel(banking_system, mail_system, "Sends e-mails", "SMTP")
  Rel(banking_system, mainframe, "Uses")
```
